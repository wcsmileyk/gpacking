{% extends 'user_base.html' %}

{% block user_content %}

<a href="#addItem" class="btn btn-md btn-primary" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="collapseExample" id="toggleAdd">Add Group</a>
<form action="" class="form collapse" id="addItem" method="post">
  {% if form.errors %}
  <div class="alert alert-danger">{{ form.errors }}</div>
    {% endif %}
    {{ form.csrf_token }}
  <div class="form-group">
    <label for="name" class="col-sm-2 control-label">Item Name</label>
    <div class="col-sm-10">
      <input type="text" name="name" class="form-control" id="name">
    </div>
  </div>
  <div class="form-group">
    <label for="activity" class="col-sm-2 control-label">Activity</label>
    <div class="col-sm-10">
       {{ form.activity(class_='form-control') }}
    </div>
  </div>
  <div class="form-group">
    <label for="friends" class="col-sm-2 control-label">Add Friends</label>
    <div class="col-sm-10">
            {{ form.friends(class_='form-control') }}
    </div>
  </div>
  <div class="form-group">
    <label for="items" class="col-sm-2 control-label">Which items are your bringing?</label>
    <div class="col-sm-10">
            {{ form.items(class_='form-control') }}
    </div>
  </div>
  <div class="form-group">
    <label for="shared_items" class="col-sm-2 control-label">Which items are you sharing?</label>
    <div class="col-sm-10">
            {{ form.shared_items(class_='form-control') }}
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Add Group</button>
    </div>
  </div>
</form>

<div>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>
                    Group
                </th>

                <th>
                    Friends
                </th>
            </tr>
        </thead>
        <tbody>
            {% for group in groups %}
            <tr>
                <td>
                    <a href="{{ url_for('main.manage_group', groupname=group.name) }}">{{ group.name }}</a>
                </td>
                <td>
                {% for member in group.users.all() %}
                {% if member != user %}
                    {{ member.username }}
                {% endif %}
                {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}

